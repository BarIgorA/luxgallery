{"version":3,"sources":["components/Photos/Sentinel/index.tsx","components/Photos/Sentinel/styles.module.scss"],"names":["Sentinel","callback","isLoading","album","isAllLoaded","ref","useRef","useEffect","div","current","observer","IntersectionObserver","entries","forEach","entry","target","isIntersecting","root","rootMargin","observe","unobserve","className","styles","loading","module","exports"],"mappings":"4GAAA,4CAkDeA,UA5CyF,SAAC,GAEnG,IADFC,EACC,EADDA,SAAUC,EACT,EADSA,UAAWC,EACpB,EADoBA,MAAOC,EAC3B,EAD2BA,YAExBC,EAAMC,iBAA8B,MAwB1C,OAvBAC,qBAAU,WACR,IAAMC,EAAMH,EAAII,QAChB,GAAID,IAAQN,EAAW,CACrB,IAAMQ,EAAiC,IAAIC,sBACzC,SAACC,GACCA,EAAQC,SAAQ,SAAAC,GACVA,EAAMC,SAAWP,GAAOM,EAAME,gBAChCf,SAIN,CACEgB,KAAM,KACNC,WAAY,qBAMhB,OAFAR,EAASS,QAAQX,GAEV,kBAAME,EAASU,UAAUZ,OAEjC,CAACP,EAAUC,IAGZ,yBAAKG,IAAKA,EAAKgB,UAAWC,IAAOtB,UAE5BI,EAOG,KALE,oCACE,yBAAKiB,UAAWC,IAAOC,SAAvB,cACA,uCAASpB,EAAT,uB,mBCvChBqB,EAAOC,QAAU,CAAC,SAAW,yBAAyB,QAAU","file":"static/js/9.8a939e42.chunk.js","sourcesContent":["import React, { useRef, useEffect } from 'react';\n\n// Styles\nimport styles from './styles.module.scss';\n\n\nconst Sentinel: React.FC<{callback(): void, isLoading: boolean, album: number, isAllLoaded: boolean}> = (\n  { callback, isLoading, album, isAllLoaded }\n) => {\n  const ref = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    const div = ref.current;\n    if (div && !isLoading) {\n      const observer: IntersectionObserver = new IntersectionObserver(\n        (entries) => {\n          entries.forEach(entry => {\n            if (entry.target === div && entry.isIntersecting) {\n              callback();\n            }\n          });\n        },\n        {\n          root: null,\n          rootMargin: '0px 0px 100% 0px',\n        },\n      );\n\n      observer.observe(div);\n\n      return () => observer.unobserve(div);\n    }\n  }, [callback, isLoading]);\n\n  return (\n    <div ref={ref} className={styles.Sentinel} >\n      {\n        !isAllLoaded\n          ? (\n              <>\n                <div className={styles.loading} >Loading...</div>\n                <div>{`${album} albums loaded`}</div>\n              </>\n            )\n          : null\n      }\n    </div>\n  );\n}\n\n\nexport default Sentinel;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sentinel\":\"styles_Sentinel__18mVe\",\"loading\":\"styles_loading__2kgqh\"};"],"sourceRoot":""}