{"version":3,"sources":["components/ModalPhoto/index.tsx","components/Photo/index.tsx","components/PhotosByAlbums/index.tsx","components/Photos/Sentinel/index.tsx","components/Photos/index.tsx","components/ModalPhoto/styles.module.scss","components/Photo/styles.module.scss","components/PhotosByAlbums/styles.module.scss","components/Photos/Sentinel/styles.module.scss","components/Photos/styles.module.scss"],"names":["observer","photo","isPhotoExpanded","Portal","lazy","fallback","className","styles","ResizableImage","src","url","alt","title","onClick","hideMe","Photo","thumbnailUrl","id","showMe","ref","useRef","observerInContext","useContext","IntersectionObserverContext","useEffect","div","current","observe","unobserve","key","data-src","lazyImage","PhotosByAlbums","albums","photos","map","album","albumsPhotos","filter","albumId","length","albumWrapper","albumTitle","grid","Sentinel","callback","isLoading","isAllLoaded","IntersectionObserver","entries","forEach","entry","target","isIntersecting","root","rootMargin","loading","data","inStorePhotos","inStoreAlbums","SearchResults","Photos","searchTerm","tryLoadNext","lastLoadedAlbum","module","exports"],"mappings":"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","file":"static/js/2.279a373d.chunk.js","sourcesContent":["import React, { FC, lazy, Suspense } from 'react';\nimport { observer } from 'mobx-react';\n\n// Interfaces\nimport { IModalPhoto } from '../../interfaces';\n\n// Styles\nimport styles from './styles.module.scss';\n\n\nconst ModalPhoto:FC<IModalPhoto> = ({ photo }) => {\n  if (!photo || !photo.isPhotoExpanded) return null;\n\n  const Portal = lazy(() => import('./Portal'));\n\n  return (\n    <Suspense fallback='loading...'>\n      <Portal>\n        <img\n          className={styles.ResizableImage}\n          src={photo.url}\n          alt={photo.title}\n          onClick={photo.hideMe}\n        />\n        <div className={styles.title}>{photo.title}</div>\n      </Portal>\n    </Suspense>\n  )\n}\n\nexport default observer(ModalPhoto);\n","import React, { FC, useContext, useRef, useEffect } from 'react';\n\n// Interfaces\nimport { IPhoto } from '../../interfaces';\n\n// Context\nimport IntersectionObserverContext from '../../contextProviders/IntersectionObserverContext';\n\n// Custom\nimport ModalPhoto from '../ModalPhoto';\n\n// Styles\nimport styles from './styles.module.scss';\n\n\nconst Photo: FC<IPhoto> = ({ photo }) => {\n  const { thumbnailUrl, id, title, showMe } = photo;\n  const ref = useRef<HTMLDivElement | null>(null);\n  const observerInContext = useContext(IntersectionObserverContext);\n\n  useEffect(() => {\n    const observer = observerInContext;\n    const div = ref.current;\n\n    if (div && observer) {\n      observer.observe(div);\n\n      return () => {\n        observer.unobserve(div);\n      };\n    }\n  }, [observerInContext]);\n\n  return (\n    <div key={id} className={styles.Photo} ref={ref} data-src={thumbnailUrl} >\n      <img\n        className={styles.lazyImage}\n        src=''\n        alt={title}\n        title={title}\n        onClick={showMe}\n      />\n      <ModalPhoto photo={photo} />\n    </div>\n  )\n}\n\nexport default Photo;\n","import React, { FC } from 'react';\n\n// Interfaces\nimport { TPhoto, TAlbum } from '../../interfaces';\n\n//Custom components\nimport Photo from '../Photo';\n\n// Styles\nimport styles from './styles.module.scss';\n\n\nconst PhotosByAlbums: FC<{ albums: TAlbum[], photos: TPhoto[] }> = ({ albums, photos }) => {\n  return (\n    <div className={styles.PhotosByAlbums}>\n      {\n        albums.map(album => {\n          const albumsPhotos = photos.filter(photo => photo.albumId === album.id);\n          return albumsPhotos.length ? (\n            <div key={album.id} className={styles.albumWrapper}>\n              <div key={`album${album.id}`} className={styles.albumTitle}>{album.title}</div>\n              <div key={`photosOfAlbum${album.id}`} className={styles.grid}>\n                {\n                  albumsPhotos\n                    .map((photo) => (\n                      <Photo key={photo.id} photo={photo} />\n                    ))\n                }\n              </div>\n            </div>\n          ) : null;\n        })\n      }\n    </div>\n  );\n}\n\nexport default PhotosByAlbums;\n","import React, { useRef, useEffect } from 'react';\n\n// Styles\nimport styles from './styles.module.scss';\n\n\nconst Sentinel: React.FC<{callback(): void, isLoading: boolean, album: number, isAllLoaded: boolean}> = (\n  { callback, isLoading, album, isAllLoaded }\n) => {\n  const ref = useRef<HTMLDivElement | null>(null);\n  useEffect(() => {\n    const div = ref.current;\n    if (div && !isLoading) {\n      const observer: IntersectionObserver = new IntersectionObserver(\n        (entries) => {\n          entries.forEach(entry => {\n            if (entry.target === div && entry.isIntersecting) {\n              callback();\n            }\n          });\n        },\n        {\n          root: null,\n          rootMargin: '0px 0px 100% 0px',\n        },\n      );\n\n      observer.observe(div);\n\n      return () => observer.unobserve(div);\n    }\n  }, [callback, isLoading]);\n\n  return (\n    <div ref={ref} className={styles.Sentinel} >\n      {\n        !isAllLoaded\n          ? (\n              <>\n                <div className={styles.loading} >Loading...</div>\n                <div>{`${album} albums loaded`}</div>\n              </>\n            )\n          : null\n      }\n    </div>\n  );\n}\n\n\nexport default Sentinel;\n","import React, { FC, lazy, Suspense } from 'react';\nimport { observer } from 'mobx-react';\n\n// Interfaces\nimport { IPhotos } from '../../interfaces';\n\n// Custom\nimport Sentinel from './Sentinel';\nimport PhotosByAlbums from '../PhotosByAlbums';\n\n// Styles\nimport styles from './styles.module.scss';\n\n\nconst Photos: FC<IPhotos> = ({ data }) => {\n  if (!data.photos.length || !data.albums.length) return null;\n\n  const photos = data.inStorePhotos;\n  const albums = data.inStoreAlbums;\n\n  const SearchResults = lazy(() => import('./SearchResults'));\n\n  return (\n    <div className={styles.Photos}>\n      {\n        data.searchTerm\n          ? (\n              <Suspense fallback=\"loading...\">\n                <SearchResults photos={photos} searchTerm={data.searchTerm} isAllLoaded={data.isAllLoaded} />\n              </Suspense>\n            )\n          : <PhotosByAlbums photos={photos} albums={albums} />\n      }\n      <Sentinel\n        callback={data.tryLoadNext}\n        isLoading={data.isLoading}\n        album={data.lastLoadedAlbum}\n        isAllLoaded={data.isAllLoaded}\n      />\n    </div>\n  )\n}\n\nexport default observer(Photos);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResizableImage\":\"styles_ResizableImage__1hPNU\",\"title\":\"styles_title__2VxPG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Photo\":\"styles_Photo__XcYKp\",\"lazyImage\":\"styles_lazyImage__2NZD4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PhotosByAlbums\":\"styles_PhotosByAlbums__1ZleE\",\"albumWrapper\":\"styles_albumWrapper__2jbaQ\",\"albumTitle\":\"styles_albumTitle__2hqAI\",\"grid\":\"styles_grid__1CGkw\",\"photo\":\"styles_photo__3vI7G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sentinel\":\"styles_Sentinel__18mVe\",\"loading\":\"styles_loading__2kgqh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Photos\":\"styles_Photos__1aseM\"};"],"sourceRoot":""}